---
import { Image } from '@astrojs/image/components';

import Github from './icons/Github.astro';

const { square, label, webpage, ariaWebpageLabel, imageProps, githubHref, githubAriaLabel, siteHrefProps, id } = Astro.props;
---

<li class={`w-full overflow-hidden mb-10 flex flex-col align-center rounded-xl justify-center border orange-border black-background elevate`}>
  <a class={`px-10 h-48 font-bold flex justify-center items-center gap-4 relative card-home ${id}-background`} href={webpage} target="_blank" aria-label={ariaWebpageLabel}>
    <Image width={square ? 60 : 90} height={60} format="webp" {...imageProps} />
    <span class="white-text">{label}</span>
  </a>
  <div class="black-background z-10">
    <div class="flex-col p-5 w-full border-t orange-t-border orange-background-secondary">
      <a class="underline underline-offset-2 font-semibold" href={webpage} target="_blank" aria-label={ariaWebpageLabel}>
        {label}
      </a>
      <div class="w-full mt-6 flex items-center flex-1 justify-around">
        <a class="card-home" target="_blank" href={githubHref} aria-label={githubAriaLabel}><Github color='#fff' /></a>
        <a class="border text-xs py-2 px-4 rounded-2xl hover:bg-white hover:text-black white-border white-text" {...siteHrefProps}>Read more</a>
      </div>
    </div>
  </div>
</li>

<style>
  .scale-card {
    transform: var(--hover-scale-transform);
    transition: var(--hover-scale-transition);
  }
  .card-home:hover {
    @apply scale-card
  }

  .letters-background::before {
    background-image: url('random-letters.jpg');
  }
  
  .qpv-background::before {
    background-image: url('qpv.jpg');
  }
  
  .markdown-background::before {
    background-image: url('markdown.jpg');
  }

  .letters-background::before,
  .markdown-background::before,
  .qpv-background::before {
    background-position: center;
    background-repeat: no-repeat;
    content: ' ';
    display: block;
    height: 100%;
    left: 0;
    opacity: 0.25;
    position: absolute;
    top: 0;
    width: 100%;
  }

  .elevate {
    box-shadow: 0 5px 8px 0px hsla(12, 81%, 55%, 0.42);
  }
</style>
