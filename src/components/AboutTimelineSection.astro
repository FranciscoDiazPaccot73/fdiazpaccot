---
import Link from "../components/icons/Link.astro";

const { color, job, title, link, order = 'left' } = Astro.props;

const colors = {
  meli: '#fce64d',
  strike: '#5866aa',
  serfe: '#de7430',
}

const orders = {
  left: {
    job: 'md:pr-12 md:border-r-[6px]',
    description: 'md:pl-6 md:border-l-[6px]',
  },
  right: {
    job: 'md:pl-12 md:border-l-[6px] order-1',
    description: 'pr-6 border-r-[6px]',
  }
}

const hexColor = colors[color];
const orderStyle = orders[order];
---

<div class="flex justify-center w-full relative">
  <div class={`relative md:flex md:flex-col md:items-end md:w-1/2 ${orderStyle.job}`} style={{ borderColor: hexColor }}>
    <div class="rounded-xl border orange-border relative black-background shadow py-3 px-5 md:mt-6">
      <p class="text-center font-semibold text-3xl" style={{ color: hexColor }}>{title}</p>
      <p class="text-center text-gray-100 text-xl font-semibold">{job}</p>
      <div class="flex items-center cursor-pointer md:mt-3 orange-text">
        <Link color="#e9552f" width={18} height={18} />
        <a
          class="orange-text ml-1"
          href={link}
          target="_blank"
          aria-label={`Click to go to ${title} page`}
        >
          {link}
        </a>
      </div>
      <div class="hidden md:block border-l rounded-tl-full rounded-bl-full absolute h-1 w-10 -right-[4.5rem] top-1/2 -translate-x-1/2" style={{ backgroundColor: hexColor, borderColor: hexColor }} />
    </div>
  </div>
  <aside class={`hidden pl-4 w-1/2 md:block ${orderStyle.description}`} style={{ borderColor: hexColor }}>
    <div>Item 1</div>
    <div> Item 2</div>
    <div>Item 3</div>
  </aside>
</div>